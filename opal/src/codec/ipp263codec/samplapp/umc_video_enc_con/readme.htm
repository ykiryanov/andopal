<html><head><title>Intel® Integrated Performance Primitives UMC based video encoder sample for Windows*</title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><style> <!--	li.MsoNormal {mso-style-parent:""; margin-bottom:.0001pt; font-size:12.0pt; font-family:"Times New Roman"; color:black; margin-left:0in; margin-right:0in; margin-top:0in}
	--></style>
</head><body text="#000000" bgcolor="#ffffff"><center><h1><b><i>Intel® Integrated Performance Primitives<br>UMC based video encoder sample for Windows*</i></b></h1></center><h5><A href="#Overview">Overview</A><br><A href="#System_Requirements">System Requirements</A><br><A href="#Package_Contents">Package Contents</A> <br><A href="#How_to_Build_Source_Code">How to Build Source Code</A><br><A href="#Running_the_Software">Running the Software</A><br><A href="#Known_Limitations">Known Limitations</A><br>&nbsp;</h5><h2><a name="Overview"></a>Overview</h2><P>This sample illustrates how to use the Intel<sup>®</sup> Integrated Performance Primitives (Intel<sup>®</sup> IPP) signal processing, image processing, audio\video coding functions and Unified Media Classes (UMC) to implement a multi-format video encoder. Video formats, covered by this sample under different Operating Systems listed in table below :</P><P><span lang="EN-US" style="font-size: 10.0pt; font-family: Arial">&#8220;</span><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span><span lang="EN-US" style="font-size: 10.0pt; font-family: Arial">&#8221; means that this codec has been validated as of IPP 5.2<br>&#8220;</span><span lang="EN-US" style="font-family: Arial; color: #993300"><font size="1">&#9679;</font></span><span lang="EN-US" style="font-size: 10.0pt; font-family: Arial">&#8221; means it is not yet validated as of IPP 5.2<span style="color:blue"> </span></span></P>
<table border="1" width="99%" id="table1" height="181"><tr><td rowspan="2" width="277"><b>UMC encoders </b></td><td align="center" colspan="5"><b>operating system</b></td></tr><tr><td align="center"><b>IA-32 Windows*</b></td><td align="center"><b>Itanium Windows*</b></td><td align="center"><b>EM64T Windows*</b></td><td align="center"><b>Windows* CE 5.0 
	<br>
	for X86</b></td><td align="center"><b>Windows* CE 5.0 <br>
	for IXP 4XX product line</b></td></tr><tr><td width="277"><a href="../../codec/dv_enc/readme.htm">DV_SD</a> / <a href="../../codec/dv50_enc/readme.htm">DV_50</a> / <a href="../../codec/dv100_enc/readme.htm">DV_HD video encoders</a></td><td align="center"><SPAN lang="EN-US" style="COLOR: #339933; FONT-FAMILY: Arial"><FONT size="1">&#9679; | &#9679; | &#9679;</FONT></SPAN></td><td align="center"><SPAN lang="EN-US" style="COLOR: #993300; FONT-FAMILY: Arial"><FONT size="1">&#9679; | &#9679; | &#9679;</FONT></SPAN></td><td align="center"><SPAN lang="EN-US" style="COLOR: #339933; FONT-FAMILY: Arial"><FONT size="1">&#9679; | &#9679; | &#9679;</FONT></SPAN></td><td align="center"><SPAN lang="EN-US" style="COLOR: #339933; FONT-FAMILY: Arial"><FONT size="1">&#9679; | &#9679; | &#9679;</FONT></SPAN></td><td align="center"><SPAN lang="EN-US" style="COLOR: #993300; FONT-FAMILY: Arial"><FONT size="1">&#9679; | &#9679; | &#9679;</FONT></SPAN></td></tr><tr><td width="277"><a href="../../codec/mpeg2_enc/readme.htm">MPEG 2 video encoder</a> </td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td></tr><tr><td width="277"><a href="../../codec/mpeg4_enc/readme.htm">MPEG 4 video encoder</a></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td></tr><tr><td width="277"><a href="../../codec/h264_enc/readme.htm">H.264 video encoder</a></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td></tr><tr><td width="277"><a href="../../codec/h263_enc/readme.htm">H.263 video encoder</a></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td></tr><tr><td width="277"><a href="../../codec/h261_enc/readme.htm">H.261 video encoder</a></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td><td align="center"><span lang="EN-US" style="font-family: Arial; color: #339933"><font size="1">&#9679;</font></span></td></tr></table><p>Additional information on this software as well as other Intel software performance products is available at <a href="http://developer.intel.com/software/products/">http://developer.intel.com/software/products/</a>. </p><h2><a name="System_Requirements"></a>System Requirements</h2><p><font face="Times New Roman"><b>Hardware requirements:</b></font></p><UL><LI><font face="Times New Roman">A system based on a Intel&reg; Pentium&reg; processor, Intel&reg; Xeon® processor, or subsequent IA-32 processor</font><LI><font face="Times New Roman">A system based on a Intel&reg; Itanium&reg; 2 processor</font><LI><font face="Times New Roman">A system based on a Intel&reg; Xeon® or Pentium®&nbsp; D processor with Intel® Extended Memory 64 Technology (Intel&reg; EM64T) </font><LI><font face="Times New Roman">A system, based on IXP 4XX product line processor</font></UL><p><font face="Times New Roman"><b>Software requirements:</b></font></p><ul type="disc"><li><b><u>Intel</u><sup>®</sup><u> IPP for Windows*</u></b> version 5.2 </li><li>
<span lang="EN-US"><u><b>Microsoft* Windows* Vista</b></u>, </span><b><u>
<font size="3">Microsoft*</font> Windows* XP</u></b><font size="3"> or <b><u>Microsoft* Windows* 2003 Server</u></b>.</font></li><li class="MsoNormal"><u><b>Microsoft* DirectX* 9.0 SDK</b></u> Update (February 2005) or <b><u>Microsoft* DirectX SDK*</u></b> (December 2005)</li><li class="MsoNormal"><font size="3"><u><b>Intel&reg; C++ Compiler for Windows*</b></u>: version 10.0, 9.1<span lang="ru"> </span>or 9.<span lang="ru">0</span></font></li><li class="MsoNormal"><font size="3"><b><u>Microsoft* Visual C++*.NET* 200</u></b><u><b>5</b></u> or <u><b>Microsoft* Visual C++* .NET* 2003</b></u></font><UL><li><font size="3">When building for a Intel&reg; Xeon</font><font face="Times New Roman">®</font><font size="3"> processor with Intel&reg; EM64T, the <b><u>Microsoft* EM64T Platform SDK</u></b> is required</font></li></UL><UL><li><font size="3">When building for a Intel&reg; Itanium&reg; 2 processor, the <b><u>Microsoft* Platform SDK for Windows* Server 2003 SP1</u></b> is required</font></li></UL></li><li><b><u>Microsoft* <span class="SpellE">eMbedded</span> Visual C++ 4.0 SP4</u></b><UL><li><font size="3">When building for a Windows* CE 5.0 for x86, <b><u>Standard SDK for Windows* CE 5.0</u></b> is required</font></li></UL><UL><li><font size="3">When building for a Windows* CE 5.0 for </font><font face="Times New Roman">IXP 4XX product line processor</font><font size="3">, <b><u>IXP </u></b></font><b><u><font face="Times New Roman">4XX product line</font></u></b><font size="3"><b><u> SDK for Windows* CE 5.0</u></b> is required</font></li></UL></li></ul><h2><a name="Package_Contents"></a>Package Contents</h2>The<b> Intel<sup>®</sup> IPP UMC video encoder Sample for Windows*</b> package contains the following: <font size="-1"><br><br></font><table border="1" width="100%"><tbody><tr><td colspan="2" valign="top" bgcolor="#cccccc"><b>.\ipp-samples\audio-video-codecs\application\umc_video_enc_con</b></td></tr><tr><td valign="top" width="23%">link_list.ini</td><td valign="top" width="76%">list of linking libs for building procedure</td></tr><tr><td valign="top" width="23%">readme.htm</td><td valign="top" width="76%">This file</td></tr><tr><td valign="top" width="23%">h261.par</td><td rowspan="5" width="76%">Sample encoder parameter-files for H.261, H.263, H.264, MPEG 2 and MPEG 4 video encoders</td></tr><tr><td valign="top" width="23%">h263.par</td></tr><tr><td valign="top" width="23%">h264.par</td></tr><tr><td valign="top" width="23%">mpeg2.par</td></tr><tr><td valign="top" width="23%">mpeg4.par</td></tr><tr><td valign="top" bgcolor="#cccccc" colspan="2"><b>.\ipp-samples\audio-video-codecs\application\umc_video_enc_con\src</b></td></tr><tr><td valign="top" width="23%">main_wce4.cpp</td><td valign="top" width="76%">Source file containing implementation of console application for Windows* CE 5.0</td></tr><tr><td valign="top" width="23%">video_enc_con.cpp</td><td valign="top" width="76%">Source file containing implementation of utility functions&nbsp;for the console application.&nbsp; </td></tr><tr><td valign="top" width="23%">video_enc_utils.cpp</td><td valign="top" width="76%">Source file containing implementation of utility functions&nbsp;for the console application.&nbsp; </td></tr><TR><TD vAlign="top" bgColor="#cccccc" colSpan="2"><B>.\ipp-samples\audio-video-codecs\application\umc_video_enc_con\include</B></TD></TR><TR><TD vAlign="top" width="23%">utils.h</TD><TD vAlign="top" width="76%">Header file containing declaration&nbsp;of utility functions</TD></TR></table><h2><a name="How_to_Build_Source_Code"></a>How to Build Source Code</h2><div class="Section1"><ul type="disc" style="MARGIN-BOTTOM: 0in"><li class="MsoNormal" style="COLOR: windowtext"><span lang="EN-US">Set up your build environment by creating an environment variable named <font face="Courier New" size="3">IPPROOT</font> that points to the root directory of your Intel<sup>®</sup> IPP 5.2 installation. </span>For example: <b>C:\Program Files\Intel\IPP\5.2\ia32\</b> <font size="-1"><li class="MsoNormal"><font size="3">To build all samples including this one change your current folder to the root media samples folder and use batch file from the list below. </font>By default batch file searches the compilers step by step according the table below (assuming that compiler should be installed in default directory). <font size="3">If you wish to use Intel® C/C++ compilers or Microsoft* C/C++.NET* 2005 compiler set a option according table below for batch file.<br>&nbsp;</font><table border="1" width="40%" id="table2"><tr><td width="294" bgcolor="#CCCCCC"><p align="center"><b>Compiler</b></td><td align="center" bgcolor="#CCCCCC"><b>Option</b></td></tr><tr><td width="294">Intel<font size="3">®</font> C++ Compiler 9.1<span lang="ru"> </span>for Windows*</td><td align="center">icl91<span lang="ru"> (</span>default<span lang="ru">)</span></td></tr><tr><td width="294">Intel<font size="3">®</font> C++ Compiler 10.0 for Windows*</td><td align="center">icl10</td></tr><tr><td width="294">Intel<font size="3">®</font> C++ Compiler 9.0 for Windows*</td><td align="center">icl9</td></tr><tr><td width="294">Microsoft* Visual C++*.NET* 200<span lang="ru">5</span></td><td align="center">cl8</td></tr><tr><td width="294">Microsoft* Visual C++*.NET* 2003</td><td align="center">cl7</td></tr></table><p><font size="3"><br>use </font><font face="Courier New" size="3">build32.bat [option]</font><font face="Courier" size="2"> </font><font size="3">for <u>IA-32 based systems</u></font><font face="Courier" size="2"><br></font><font size="3">use </font><font face="Courier New" size="3">build64.bat [option]</font><font face="Courier" size="2"> </font><font size="3">for&nbsp; <u>Itanium based systems</u></font><font face="Courier" size="2"><br></font><font size="3">use </font><font face="Courier New" size="3">buildem64t.bat [option]</font><font face="Courier" size="2"> </font><font size="3">for <u>Intel</u></font><u><font face="Times New Roman">®</font></u><font size="3"><u> Xeon</u></font><u><font face="Times New Roman">®</font></u><font size="3"><u> processors with Intel&reg; Extended Memory 64 Technology</u> (Intel® EM64T)<br>use </font><font face="Courier New" size="3">buildwcex86.bat</font><font face="Courier" size="2"> </font><font size="3">for Windows* CE 5.0 for x86<br>use </font><font face="Courier New" size="3">buildwcearmv4i.bat</font><font face="Courier" size="2"> </font><font size="3">for Windows* CE 5.0 for IXP 4XX product line</font></font></li></ul></div><p class="MsoNormal">After the successful build, the executable file will be placed in <font face="Courier New">ipp-samples\audio-video-codecs\_bin\&lt;platform&gt;</font> directory.</p><h2><a name="Running_the_Software"></a>Running the Software</h2><p>For the case of Microsoft* Visual C++*.NET* 2005 you should set the environment required for running application first. Then you should check whether PATH environment variable contains path to the redistributable runtime dynamic libraries. <br>If Microsoft* Visual C++*.NET* 2005 installed in the default directory, its a C:\Program Files\Microsoft Visual Studio 8\VC\redist\x86\Microsoft.VC80.CRT,&nbsp; C:\Program Files\Microsoft Visual Studio 8\VC\redist\x86\Microsoft.VC80.OPENMP and C:\Program Files\Microsoft Visual Studio 8\VC\redist\x86\Microsoft.VC80.MFC directories. If you environment set correctly, then all dependencies, described in&nbsp; umc_video_enc_con.exe.manifest file<span lang="ru">,</span> will be matched correctly.</p><p>Verify that the bin directory of the Intel<sup>® </sup>IPP 5.2 installation (default - C:\Program Files\Intel\IPP\5.2\ia32\bin) is included in the PATH environment variable before executing the umc_video_enc_con.exe</p><p><span lang="EN-US" style="font-size:10.0pt;font-family:Arial">The umc_video_enc_con.exe requires some parameters. </span>Command line syntax is described below:</p><p>Usage1: umc_video_enc_con.exe [m2|m4|h264|h263|h261|dv_sd|dv_50|dv_hd] [Options] InputParFile OutputEncodedFile<br>Usage2: umc_video_enc_con.exe [m2|m4|h264|h263|h261|dv_sd|dv_50|dv_hd] [Options] -i InputYUVFile -o OutputEncodedFile<br>Options:<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-i inputFile]<span lang="en-us"> </span>- input YUV video file<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-a file] - file for auxiliary pictures for alpha blending for H.264 encoder<br><span lang="en-us">&nbsp;&nbsp;&nbsp; [</span>m2|m4|h264|h263|h261|dv_sd|dv_50|dv_hd]<span lang="en-us"> - encoder type</span><span lang="EN-US" style="font-size: 10.0pt; font-family: Arial">, could be: h264 &#8211; for h264 encoder, h263 &#8211; for h263 encoder, h261 &#8211; for h261 encoder, m2 &#8211; for mpeg2, m4 &#8211; for mpeg4, dv_sd &#8211; for DV25 encoder, dv_50 &#8211; for DV50 encoder, dv_hd &#8211; for DV100 encoder</span><br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-w width] - video width<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-h height]<span lang="en-us"> </span>- video height<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-f frameRate] - video frame rate (frames per second)<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-b bitRate] - encoded bit rate (bits per second)<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-n numFrames] - max frames to encode<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-t num] - number of threads for encoding<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-r] - enables threading of read/encode/write<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-y dir] - directory of YUV files<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-u file] - file for dumping performance info<br><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>[-p file.csv] - file for dumping performance info into csv format</p><p><span lang="en-us">&nbsp;&nbsp;&nbsp; </span>Note: Options -i,-w,-h,-f,-b,-n override corresponding values inside InputParFile.</p><p>If InputParFile not specified, at least options -w,-h should be specified and -o should be added before OutputEncodedFile.</p><p><span lang="EN-US" style="color: black">Note: you can find the sample parameter files (*.par) in&nbsp;ipp-samples\audio-video-codecs\application\umc_video_enc_con folder.<br>
Please note, that some parameters from par-files is not supported by application 
(they are placed only for compatibility of par-file formats) and should be 
specified via command line too. (For instance, number of frames to encode)</span></p><h2><a name="Known_Limitations"></a>Known Limitations</h2><ul><li><p class="MsoNormal">Intel<sup>®</sup> IPP UMC video encoder sample support only limited number of profiles and levels of the abovementioned encoders, see corresponding encoders documentation for the details.</p></li><li><p class="MsoNormal">Application compiled by Intel® C++ Compiler 9.1 for Windows* EM64T can produce some artifacts while encoding MPEG4 video on Windows* EM64T processor systems. </p></li>
<li>
<p class="MsoNormal">umc_video_enc_con produces raw video stream (not 
multiplexed in AVI-container) in case of dv encoders family</p></li></ul><font size="-2"><p>&nbsp;</p><p>Celeron, Dialogic, i386, i486, iCOMP, Intel, Intel logo, Intel386, Intel486, Intel740, IntelDX2, IntelDX4, IntelSX2, Intel Inside, Intel Inside logo, Intel NetBurst, Intel NetStructure, Intel Xeon, Intel XScale, Itanium, MMX, MMX logo, Pentium, Pentium II Xeon, Pentium III Xeon, and VTune are trademarks or registered trademarks of Intel Corporation or its subsidiaries in the United States and other countries.<br>&nbsp;<br>* Other names and brands may be claimed as the property of others.<br>&nbsp;<br>Copyright© 2002-2007 Intel Corporation.</p></font></body></html>