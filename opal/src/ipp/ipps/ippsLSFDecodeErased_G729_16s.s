        .text
        .align  4
        .globl  _ippsLSFDecodeErased_G729_16s


_ippsLSFDecodeErased_G729_16s:
        stmdb   sp!, {r4 - r10, lr}
        sub     sp, sp, #0x24
        mov     lr, sp
        and     lr, lr, #0xF
        rsb     lr, lr, #0
        mov     r12, sp
        mov     r3, r0
        and     lr, lr, #0xF
        cmp     r1, #0
        add     r0, r12, lr
        beq     LDSM4
        cmp     r2, #0
        beq     LDSM4
        cmp     r3, #0
        blt     LDSM0
        cmp     r3, #4
        blt     LDSM1
LDSM0:
        mvn     r0, #0xA
        add     sp, sp, #0x24
        ldmia   sp!, {r4 - r10, pc}
LDSM1:
        ldr     r12, [pc, #0x118]
        add     lr, r3, r3, lsl #2
        mov     r4, #0xFF
        sub     r3, r12, #0xA0
        add     r3, r3, lr, lsl #4
        add     lr, r12, lr, lsl #2
        orr     r12, r4, #0x7F, 24
        mov     r6, r0
        mov     r4, r1
        mov     r5, #0xA
LDSM2:
        ldrsh   r9, [r3]
        ldrsh   r10, [r4]
        ldrsh   r7, [r3, #0x14]
        ldrsh   r8, [r4, #0x14]
        mul     r9, r10, r9
        ldrsh   r10, [r2], #2
        mul     r7, r8, r7
        ldrsh   r8, [r3, #0x28]
        rsb     r10, r9, r10, lsl #15
        ldrsh   r9, [r3, #0x3C]
        sub     r7, r10, r7
        ldrsh   r10, [r4, #0x28]
        mul     r8, r10, r8
        ldrsh   r10, [r4, #0x3C]
        mul     r9, r10, r9
        sub     r8, r7, r8
        ldrsh   r7, [lr], #2
        sub     r8, r8, r9
        mov     r8, r8, asr #15
        mul     r8, r7, r8
        mov     r7, r8, asr #12
        cmp     r12, r7
        movlt   r7, r12
        blt     LDSM3
        cmn     r7, #2, 18
        movge   r7, r7, lsl #16
        movge   r7, r7, asr #16
        mvnlt   r7, r12
LDSM3:
        strh    r7, [r6], #2
        subs    r5, r5, #1
        add     r3, r3, #2
        add     r4, r4, #2
        bne     LDSM2
        bl      LDSM_ownLspPrevUpdate
        mov     r0, #0
        add     sp, sp, #0x24
        ldmia   sp!, {r4 - r10, pc}
LDSM4:
        mvn     r0, #7
        add     sp, sp, #0x24
        ldmia   sp!, {r4 - r10, pc}
LDSM_ownLspPrevUpdate:
        stmdb   sp!, {r4 - r7, lr}
        mov     r4, r1
        add     r1, r4, #0x3C
        add     r5, r4, #0x28
        mov     r6, r0
        mov     r2, #0xA
        mov     r0, r5
        bl      _ippsCopy_16s
        add     r7, r4, #0x14
        mov     r1, r5
        mov     r2, #0xA
        mov     r0, r7
        bl      _ippsCopy_16s
        mov     r1, r7
        mov     r2, #0xA
        mov     r0, r4
        bl      _ippsCopy_16s
        mov     r1, r4
        mov     r0, r6
        mov     r2, #0xA
        ldmia   sp!, {r4 - r7, lr}
        b       _ippsCopy_16s
        .long   LDSM_fg_sum_inv


        .data
        .align  4


LDSM_fg:
        .byte   0xE5,0x20,0x95,0x23,0xD7,0x23,0x05,0x23,0x4A,0x23,0x61,0x23,0x3D,0x22,0x47,0x22
        .byte   0x92,0x23,0xE1,0x21,0x6A,0x1B,0x15,0x1C,0xD6,0x1D,0x8B,0x1C,0x14,0x1D,0xD3,0x1C
        .byte   0x7E,0x1B,0x2C,0x1B,0x12,0x1B,0xD4,0x1A,0x60,0x15,0x7E,0x13,0x0E,0x14,0x39,0x14
        .byte   0x7E,0x14,0x15,0x14,0x56,0x14,0xE7,0x13,0xDE,0x12,0x1B,0x14,0xD8,0x0F,0xD7,0x0B
        .byte   0x36,0x0A,0xD0,0x0B,0x64,0x0B,0x99,0x0A,0xED,0x0C,0xA5,0x0C,0x29,0x0B,0x91,0x0D
        .byte   0x35,0x1E,0xC8,0x1E,0xFC,0x1F,0xEF,0x1F,0x37,0x20,0x2A,0x21,0xBD,0x21,0x99,0x21
        .byte   0xA7,0x20,0x91,0x1D,0x72,0x10,0xD7,0x0B,0xF8,0x09,0x91,0x0D,0x24,0x0F,0x0D,0x0F
        .byte   0x58,0x10,0x3A,0x10,0x45,0x0F,0x80,0x0F,0x8E,0x0C,0x8A,0x07,0x21,0x05,0x5F,0x08
        .byte   0xBD,0x09,0x51,0x09,0xC3,0x0A,0x92,0x0A,0xEE,0x09,0x67,0x0B,0xD0,0x0B,0x38,0x06
        .byte   0xAC,0x03,0x5F,0x06,0xBB,0x06,0x2B,0x06,0xF2,0x07,0x24,0x08,0x79,0x07,0x29,0x0A
LDSM_fg_sum_inv:
        .byte   0x3A,0x43,0x10,0x3E,0xE5,0x3F,0x37,0x3F,0x84,0x40,0xD9,0x3D,0x10,0x3E,0x3D,0x3C
        .byte   0xF8,0x39,0xED,0x3C,0xF2,0x23,0x98,0x1C,0x84,0x1A,0x3A,0x1E,0xEA,0x1F,0xDA,0x1F
        .byte   0x98,0x22,0x72,0x22,0xAE,0x20,0x60,0x21


