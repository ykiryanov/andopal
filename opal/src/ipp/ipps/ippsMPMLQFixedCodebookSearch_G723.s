        .text
        .align  4
        .globl  _ippsMPMLQFixedCodebookSearch_G723


_ippsMPMLQFixedCodebookSearch_G723:
        stmdb   sp!, {r4 - r11, lr}
        sub     sp, sp, #0x57, 30
        ldr     r11, [sp, #0x180]
        ldr     r10, [sp, #0x184]
        ldr     r9, [sp, #0x188]
        ldr     r8, [sp, #0x18C]
        ldr     r7, [sp, #0x190]
        ldr     r12, [sp, #0x194]
        cmp     r1, #0
        str     r1, [sp, #0x28]
        mov     r6, r0
        mov     r5, r2
        mov     r4, r3
        beq     LDPZ14
        cmp     r5, #0
        beq     LDPZ14
        cmp     r4, #0
        beq     LDPZ14
        cmp     r11, #0
        beq     LDPZ14
        cmp     r10, #0
        beq     LDPZ14
        cmp     r9, #0
        beq     LDPZ14
        cmp     r8, #0
        beq     LDPZ14
        cmp     r7, #0
        beq     LDPZ14
        cmp     r6, #0x12
        blt     LDPZ0
        cmp     r6, #0x91
        bgt     LDPZ0
        cmp     r12, #0
        blt     LDPZ0
        cmp     r12, #3
        ble     LDPZ1
LDPZ0:
        mvn     r0, #6
        add     sp, sp, #0x57, 30
        ldmia   sp!, {r4 - r11, pc}
LDPZ1:
        ldr     lr, [pc, #0x284]
        mov     r12, r12, lsl #1
        add     r3, sp, #0x52, 30
        sub     lr, lr, #8
        ldrsh   r12, [lr, +r12]
        mov     r0, #2, 2
        add     lr, sp, #0x55, 30
        add     r2, sp, #0x4F, 30
        str     r12, [sp, #0x24]
        str     r0, [sp, #0x154]
        add     r0, sp, #0x56, 30
        str     r0, [sp, #0x10]
        str     lr, [sp]
        str     r12, [sp, #0xC]
        str     r9, [sp, #8]
        str     r11, [sp, #4]
        ldr     r0, [sp, #0x28]
        mov     r1, r5
        bl      _ippsGainQuant_G723_16s
        mov     r12, #0
        cmp     r6, #0x3A
        strh    r12, [r10]
        bge     LDPZ4
        add     lr, sp, #0xB4
        and     lr, lr, #0xF
        rsb     lr, lr, #0
        ldr     r0, [sp, #0x28]
        add     r12, sp, #0xB4
        and     lr, lr, #0xF
        add     r1, r12, lr
        str     r1, [sp, #0x20]
        mov     r2, #0x3C
        bl      _ippsCopy_16s
        cmp     r6, #0x3C
        str     r6, [sp, #0x158]
        mov     r12, r6
        bge     LDPZ3
        str     r4, [sp, #0x1C]
        str     r5, [sp, #0x18]
        ldr     r5, [sp, #0x20]
        ldr     r4, [sp, #0x28]
LDPZ2:
        rsb     r2, r12, #0x3C
        add     r1, r5, r12, lsl #1
        mov     r0, r4
        bl      _ippsAdd_16s_I
        ldr     r2, [sp, #0x158]
        add     r12, r2, r6
        cmp     r12, #0x3C
        str     r12, [sp, #0x158]
        blt     LDPZ2
        ldr     r4, [sp, #0x1C]
        ldr     r5, [sp, #0x18]
LDPZ3:
        str     r9, [sp, #8]
        ldr     r12, [sp, #0x24]
        str     r11, [sp, #4]
        add     r3, sp, #0x52, 30
        str     r12, [sp, #0xC]
        add     lr, sp, #0x56, 30
        add     r12, sp, #0x55, 30
        str     lr, [sp, #0x10]
        str     r12, [sp]
        ldr     r0, [sp, #0x20]
        add     r2, sp, #0x4F, 30
        mov     r1, r5
        bl      _ippsGainQuant_G723_16s
        ldr     r1, [sp, #0x158]
        cmp     r1, #0
        movne   r1, #1
        strneh  r1, [r10]
LDPZ4:
        mov     r0, r4
        mov     r1, #0x3C
        bl      _ippsZero_16s
        ldr     r1, [sp, #0x24]
        cmp     r1, #0
        mov     r1, #0
        ble     LDPZ6
        mov     r2, r1
        ldr     r12, [sp, #0x24]
LDPZ5:
        add     r5, sp, #0x4F, 30
        ldrsh   r5, [r5, +r2]
        add     lr, sp, #0x52, 30
        ldrsh   lr, [lr, +r2]
        mov     r5, r5, lsl #1
        subs    r12, r12, #1
        add     r2, r2, #2
        strh    lr, [r4, +r5]
        bne     LDPZ5
LDPZ6:
        ldr     r5, [pc, #0x128]
        mov     r9, r1
        strh    r9, [r8]
        ldr     r2, [sp, #0x24]
        str     r9, [r7]
        rsb     r12, r2, #6
LDPZ7:
        ldrsh   r2, [r11]
        add     lr, r4, r1, lsl #1
        mov     r2, r2, lsl #1
        ldrsh   r2, [lr, +r2]
        cmp     r2, #0
        bne     LDPZ8
        mov     r2, r12, lsl #7
        ldr     lr, [r7]
        sub     r2, r2, r12, lsl #3
        ldr     r2, [r5, +r2]
        add     lr, r2, lr
        str     lr, [r7]
        b       LDPZ9
LDPZ8:
        ldrsh   r2, [r8]
        mov     r2, r2, lsl #1
        mov     r2, r2, lsl #16
        mov     r2, r2, asr #16
        strh    r2, [r8]
        ldrsh   r0, [r11]
        mov     r0, r0, lsl #1
        ldrsh   r0, [lr, +r0]
        cmp     r0, #0
        addlt   r2, r2, #1
        strlth  r2, [r8]
        add     r12, r12, #1
        cmp     r12, #6
        beq     LDPZ10
LDPZ9:
        add     r9, r9, #1
        cmp     r9, #0x1E
        add     r1, r1, #2
        add     r5, r5, #4
        blt     LDPZ7
LDPZ10:
        cmp     r6, #0x3A
        bge     LDPZ11
        ldrsh   r10, [r10]
        cmp     r10, #1
        beq     LDPZ12
LDPZ11:
        mov     r0, #0
        add     sp, sp, #0x57, 30
        ldmia   sp!, {r4 - r11, pc}
LDPZ12:
        add     r12, sp, #0x2C
        and     r12, r12, #0xF
        rsb     r12, r12, #0
        add     r1, sp, #0x2C
        and     r12, r12, #0xF
        add     r5, r1, r12
        str     r9, [sp, #0x158]
        mov     r2, #0x3C
        mov     r1, r5
        mov     r0, r4
        bl      _ippsCopy_16s
        cmp     r6, #0x3C
        mov     r12, r6
        bge     LDPZ11
        str     r6, [sp, #0x158]
LDPZ13:
        rsb     r2, r12, #0x3C
        add     r1, r4, r12, lsl #1
        mov     r0, r5
        bl      _ippsAdd_16s_I
        ldr     r2, [sp, #0x158]
        add     r12, r2, r6
        cmp     r12, #0x3C
        strlt   r12, [sp, #0x158]
        blt     LDPZ13
        mov     r0, #0
        add     sp, sp, #0x57, 30
        ldmia   sp!, {r4 - r11, pc}
LDPZ14:
        mvn     r0, #7
        add     sp, sp, #0x57, 30
        ldmia   sp!, {r4 - r11, pc}
        .long   LDPZ_CombTbl


        .data
        .align  4


LDPZ_PulsesPerSbfr:
        .byte   0x06,0x00,0x05,0x00,0x06,0x00,0x05,0x00
LDPZ_CombTbl:
        .byte   0xE3,0xCF,0x01,0x00,0xE8,0x7F,0x01,0x00,0x5A,0x3B,0x01,0x00,0xF4,0x00,0x01,0x00
        .byte   0x8A,0xCF,0x00,0x00,0x08,0xA6,0x00,0x00,0x71,0x83,0x00,0x00,0xDE,0x66,0x00,0x00
        .byte   0x7D,0x4F,0x00,0x00,0x90,0x3C,0x00,0x00,0x6C,0x2D,0x00,0x00,0x78,0x21,0x00,0x00
        .byte   0x2C,0x18,0x00,0x00,0x10,0x11,0x00,0x00,0xBB,0x0B,0x00,0x00,0xD2,0x07,0x00,0x00
        .byte   0x07,0x05,0x00,0x00,0x18,0x03,0x00,0x00,0xCE,0x01,0x00,0x00,0xFC,0x00,0x00,0x00
        .byte   0x7E,0x00,0x00,0x00,0x38,0x00,0x00,0x00,0x15,0x00,0x00,0x00,0x06,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
        .byte   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC7,0x5C,0x00,0x00,0xFB,0x4F,0x00,0x00
        .byte   0x8E,0x44,0x00,0x00,0x66,0x3A,0x00,0x00,0x6A,0x31,0x00,0x00,0x82,0x29,0x00,0x00
        .byte   0x97,0x22,0x00,0x00,0x93,0x1C,0x00,0x00,0x61,0x17,0x00,0x00,0xED,0x12,0x00,0x00
        .byte   0x24,0x0F,0x00,0x00,0xF4,0x0B,0x00,0x00,0x4C,0x09,0x00,0x00,0x1C,0x07,0x00,0x00
        .byte   0x55,0x05,0x00,0x00,0xE9,0x03,0x00,0x00,0xCB,0x02,0x00,0x00,0xEF,0x01,0x00,0x00
        .byte   0x4A,0x01,0x00,0x00,0xD2,0x00,0x00,0x00,0x7E,0x00,0x00,0x00,0x46,0x00,0x00,0x00
        .byte   0x23,0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x05,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
        .byte   0x46,0x0E,0x00,0x00,0xCC,0x0C,0x00,0x00,0x6D,0x0B,0x00,0x00,0x28,0x0A,0x00,0x00
        .byte   0xFC,0x08,0x00,0x00,0xE8,0x07,0x00,0x00,0xEB,0x06,0x00,0x00,0x04,0x06,0x00,0x00
        .byte   0x32,0x05,0x00,0x00,0x74,0x04,0x00,0x00,0xC9,0x03,0x00,0x00,0x30,0x03,0x00,0x00
        .byte   0xA8,0x02,0x00,0x00,0x30,0x02,0x00,0x00,0xC7,0x01,0x00,0x00,0x6C,0x01,0x00,0x00
        .byte   0x1E,0x01,0x00,0x00,0xDC,0x00,0x00,0x00,0xA5,0x00,0x00,0x00,0x78,0x00,0x00,0x00
        .byte   0x54,0x00,0x00,0x00,0x38,0x00,0x00,0x00,0x23,0x00,0x00,0x00,0x14,0x00,0x00,0x00
        .byte   0x0A,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00
        .byte   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x96,0x01,0x00,0x00,0x7A,0x01,0x00,0x00
        .byte   0x5F,0x01,0x00,0x00,0x45,0x01,0x00,0x00,0x2C,0x01,0x00,0x00,0x14,0x01,0x00,0x00
        .byte   0xFD,0x00,0x00,0x00,0xE7,0x00,0x00,0x00,0xD2,0x00,0x00,0x00,0xBE,0x00,0x00,0x00
        .byte   0xAB,0x00,0x00,0x00,0x99,0x00,0x00,0x00,0x88,0x00,0x00,0x00,0x78,0x00,0x00,0x00
        .byte   0x69,0x00,0x00,0x00,0x5B,0x00,0x00,0x00,0x4E,0x00,0x00,0x00,0x42,0x00,0x00,0x00
        .byte   0x37,0x00,0x00,0x00,0x2D,0x00,0x00,0x00,0x24,0x00,0x00,0x00,0x1C,0x00,0x00,0x00
        .byte   0x15,0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x0A,0x00,0x00,0x00,0x06,0x00,0x00,0x00
        .byte   0x03,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
        .byte   0x1D,0x00,0x00,0x00,0x1C,0x00,0x00,0x00,0x1B,0x00,0x00,0x00,0x1A,0x00,0x00,0x00
        .byte   0x19,0x00,0x00,0x00,0x18,0x00,0x00,0x00,0x17,0x00,0x00,0x00,0x16,0x00,0x00,0x00
        .byte   0x15,0x00,0x00,0x00,0x14,0x00,0x00,0x00,0x13,0x00,0x00,0x00,0x12,0x00,0x00,0x00
        .byte   0x11,0x00,0x00,0x00,0x10,0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x0E,0x00,0x00,0x00
        .byte   0x0D,0x00,0x00,0x00,0x0C,0x00,0x00,0x00,0x0B,0x00,0x00,0x00,0x0A,0x00,0x00,0x00
        .byte   0x09,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x06,0x00,0x00,0x00
        .byte   0x05,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x02,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00
        .byte   0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00


