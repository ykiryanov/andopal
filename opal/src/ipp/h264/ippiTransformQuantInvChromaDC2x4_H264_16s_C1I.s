        .text
        .align  4
        .globl  ippiTransformQuantInvChromaDC2x4_H264_16s_C1I


ippiTransformQuantInvChromaDC2x4_H264_16s_C1I:
        stmdb   sp!, {r4 - r11, lr}
        cmp     r0, #0
        mvneq   r0, #7
        ldmeqia sp!, {r4 - r11, pc}
        cmp     r1, #0
        blt     LLBM4
        cmp     r1, #0x27
        bgt     LLBM4
        ldrsh   r6, [r0, #2]
        ldrsh   r7, [r0]
        ldrsh   r3, [r0, #4]
        ldrsh   r4, [r0, #6]
        ldrsh   lr, [r0, #8]
        ldrsh   r5, [r0, #0xA]
        ldrsh   r12, [r0, #0xC]
        ldrsh   r9, [r0, #0xE]
        add     r10, r1, #3
        ldr     r8, [pc, #0x1B4]
        add     r1, r6, r7
        sub     r6, r7, r6
        add     r7, r3, r4
        ldrb    r8, [r10, +r8]
        sub     r4, r3, r4
        add     r3, lr, r5
        sub     r5, lr, r5
        add     lr, r12, r9
        sub     r9, r12, r9
        add     r12, r1, r7
        sub     r1, r1, r7
        add     r7, r3, lr
        sub     r3, r3, lr
        add     lr, r6, r4
        sub     r4, r6, r4
        add     r6, r5, r9
        sub     r5, r5, r9
        add     r9, r12, r7
        sub     r12, r12, r7
        add     r7, r1, r3
        mov     r9, r9, lsl #16
        sub     r11, r1, r3
        cmp     r2, #0
        mov     r1, r9, asr #16
        mov     r9, r7, lsl #16
        add     r7, lr, r6
        sub     r6, lr, r6
        mov     lr, r9, asr #16
        mov     r9, r7, lsl #16
        sub     r7, r4, r5
        add     r5, r4, r5
        mov     r4, r9, asr #16
        mov     r6, r6, lsl #16
        mov     r9, r5, lsl #16
        mov     r7, r7, lsl #16
        mov     r5, r6, asr #16
        mov     r12, r12, lsl #16
        mov     r6, r7, asr #16
        mov     r11, r11, lsl #16
        mov     r3, r12, asr #16
        mov     r7, r9, asr #16
        mov     r12, r11, asr #16
        sub     r9, r8, #6
        beq     LLBM3
        strh    r7, [r0, #0xE]
        strh    r6, [r0, #0xA]
        strh    r5, [r0, #6]
        strh    r4, [r0, #2]
        strh    lr, [r0, #0xC]
        strh    r12, [r0, #8]
        strh    r3, [r0, #4]
        strh    r1, [r0]
        ldrsh   r2, [r2]
LLBM0:
        mul     r1, r2, r1
        cmp     r8, #6
        bge     LLBM1
        rsb     r10, r8, #5
        rsb     r8, r9, #0
        mov     r9, #1
        mov     r9, r9, lsl r10
        mla     r4, r4, r2, r9
        mla     r3, r2, r3, r9
        mla     r5, r2, r5, r9
        mla     r12, r2, r12, r9
        mla     r6, r2, r6, r9
        mla     lr, r2, lr, r9
        mla     r7, r2, r7, r9
        add     r1, r9, r1
        mov     r1, r1, asr r8
        mov     r4, r4, asr r8
        mov     r3, r3, asr r8
        mov     r5, r5, asr r8
        mov     r12, r12, asr r8
        mov     r6, r6, asr r8
        mov     lr, lr, asr r8
        mov     r8, r7, asr r8
        b       LLBM2
LLBM1:
        mul     r4, r4, r2
        mul     r3, r2, r3
        mul     r5, r2, r5
        mul     r12, r2, r12
        mul     r6, r2, r6
        mul     lr, r2, lr
        mul     r7, r2, r7
        mov     r1, r1, lsl r9
        mov     r4, r4, lsl r9
        mov     r3, r3, lsl r9
        mov     r5, r5, lsl r9
        mov     r12, r12, lsl r9
        mov     r6, r6, lsl r9
        mov     lr, lr, lsl r9
        mov     r8, r7, lsl r9
LLBM2:
        strh    r1, [r0]
        strh    r4, [r0, #2]
        strh    r3, [r0, #4]
        strh    r5, [r0, #6]
        strh    r12, [r0, #8]
        strh    r6, [r0, #0xA]
        strh    lr, [r0, #0xC]
        strh    r8, [r0, #0xE]
        mov     r0, #0
        ldmia   sp!, {r4 - r11, pc}
LLBM3:
        ldr     r2, [pc, #0x1C]
        ldrb    r10, [r10, +r2]
        ldr     r2, [pc, #0x18]
        mov     r10, r10, lsl #5
        ldrsh   r2, [r2, +r10]
        b       LLBM0
LLBM4:
        mvn     r0, #0xA
        ldmia   sp!, {r4 - r11, pc}
        .long   LLBM_h264_qp6
        .long   LLBM_h264_qp_rem
        .long   LLBM_InvLevelScale_4x4_default


        .data
        .align  4


LLBM_h264_qp6:
        .byte   0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x02,0x02,0x02,0x02
        .byte   0x02,0x02,0x03,0x03,0x03,0x03,0x03,0x03,0x04,0x04,0x04,0x04,0x04,0x04,0x05,0x05
        .byte   0x05,0x05,0x05,0x05,0x06,0x06,0x06,0x06,0x06,0x06,0x07,0x07,0x07,0x07,0x07,0x07
        .byte   0x08,0x08,0x08,0x08,0x08,0x08,0x09,0x09,0x09,0x09,0x09,0x09,0x0A,0x0A,0x0A,0x0A
        .byte   0x0A,0x0A,0x0B,0x0B,0x0B,0x0B,0x0B,0x0B,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0D,0x0D
        .byte   0x0D,0x0D,0x0D,0x0D,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x00,0x00
LLBM_InvLevelScale_4x4_default:
        .byte   0xA0,0x00,0xD0,0x00,0xA0,0x00,0xD0,0x00,0xD0,0x00,0x00,0x01,0xD0,0x00,0x00,0x01
        .byte   0xA0,0x00,0xD0,0x00,0xA0,0x00,0xD0,0x00,0xD0,0x00,0x00,0x01,0xD0,0x00,0x00,0x01
        .byte   0xB0,0x00,0xE0,0x00,0xB0,0x00,0xE0,0x00,0xE0,0x00,0x20,0x01,0xE0,0x00,0x20,0x01
        .byte   0xB0,0x00,0xE0,0x00,0xB0,0x00,0xE0,0x00,0xE0,0x00,0x20,0x01,0xE0,0x00,0x20,0x01
        .byte   0xD0,0x00,0x00,0x01,0xD0,0x00,0x00,0x01,0x00,0x01,0x40,0x01,0x00,0x01,0x40,0x01
        .byte   0xD0,0x00,0x00,0x01,0xD0,0x00,0x00,0x01,0x00,0x01,0x40,0x01,0x00,0x01,0x40,0x01
        .byte   0xE0,0x00,0x20,0x01,0xE0,0x00,0x20,0x01,0x20,0x01,0x70,0x01,0x20,0x01,0x70,0x01
        .byte   0xE0,0x00,0x20,0x01,0xE0,0x00,0x20,0x01,0x20,0x01,0x70,0x01,0x20,0x01,0x70,0x01
        .byte   0x00,0x01,0x40,0x01,0x00,0x01,0x40,0x01,0x40,0x01,0x90,0x01,0x40,0x01,0x90,0x01
        .byte   0x00,0x01,0x40,0x01,0x00,0x01,0x40,0x01,0x40,0x01,0x90,0x01,0x40,0x01,0x90,0x01
        .byte   0x20,0x01,0x70,0x01,0x20,0x01,0x70,0x01,0x70,0x01,0xD0,0x01,0x70,0x01,0xD0,0x01
        .byte   0x20,0x01,0x70,0x01,0x20,0x01,0x70,0x01,0x70,0x01,0xD0,0x01,0x70,0x01,0xD0,0x01
LLBM_h264_qp_rem:
        .byte   0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03
        .byte   0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01
        .byte   0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05
        .byte   0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03
        .byte   0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05,0x00,0x01
        .byte   0x02,0x03,0x04,0x05,0x00,0x01,0x02,0x03,0x04,0x05


